# Vulnerability Scanning

https://sansec.io/ecomscan


## ZERO-1 Process - must assume MDOQ Hosting

Have our list of live MDOQ IDs

With each ID

1. check if the latest code backup is recent `mdoq backups:list --instance-id=$INSTANCE --backup-type=code-backup`
2. Download it `mdoq backups:download --name=code-2024-09-15_03-00-08.tgz --instance-id=$INSTANCE --backup-type=code-backup --output-file=$INSTANCE.tgz`
3. create a folder `mkdir $INSTANCE`
4. Unpack it `tar -xvf 19236.tgz -d $INSTANCE`

IE
```
INSTANCE=13858
mdoq backups:list --instance-id=$INSTANCE --backup-type=code-backup
CODE=2024-09-15_03-00-08.tgz
mdoq backups:download --name=code-$CODE --instance-id=$INSTANCE --backup-type=code-backup --output-file=$INSTANCE.tgz
mkdir $INSTANCE
# FOR MAC
tar -xvf $INSTANCE.tgz -C $INSTANCE

grep -lr 'test-ambio' 
```




```
tweeks divinetrash abakhan epic brithard  roys  discountdisplays 5adaybox  zero1   probooks   gofish  imaginfires  crucial  rbtools   elms    barrdislay    regalia  ibottles   thomasandanca  toolstoday  worldofpower
13858     19236     9753  10700   10247   15644      20250         19936   19283    18133     16180     16025       15823    15101    14137    11157         11101     10675        9607         17613        9752
```


Then we can scan, Adams suggestion in #developers 19 September was

`grep -lr 'WebSocket' | grep -v '.js'`
throws up a ton of false-positives with Hyva, in node_modules
`grep -lr 'WebSocket' | grep -v '.js' | grep -v 'node_modules/'`
